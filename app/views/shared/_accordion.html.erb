<div
  class="accordions"
  data-controller="accordion"
>
  <% items.each do |item| %>
    <div class="accordion-card py-4" data-accordion-target="item" data-action="click->accordion#expand">
      <button class="accordion btn p-0">
        <h2 class="mb-0"><%= item.name.capitalize %></h2>
        <% if item.instance_of?(Career) %>
          <%= link_to "View University Programmes", career_programmes_path(item) %>
        <% elsif item.instance_of?(Programme) %>
          <%= link_to "Compare", pathways_path %>
        <% end %>
      </button>
      <div class="panel mt-3">
        <p><%= item.summary %></p>
        <div class="d-flex justify-content-end">
          <% if item.instance_of?(Career) %>
            <!-- Parent controller -->
            <div data-controller="modal">
              <!-- Trigger -->
              <div class="btn btn-primary" data-action="click->modal#showModal">show modal</div>
              <!-- Modal Wrapper -->
              <div class="modal-wrapper" data-modal-target="popup">
                <!-- Close Btn -->
                <i class="fa fa-times fa-2x" data-action="click->modal#hideModal"></i>
                <!-- Content -->
                <div class="container">
                  <div class="modal-content">
                    can have anything inside
                  </div>
                </div>
              </div>
            </div>
          <% elsif item.instance_of?(Programme) %>
            <%= link_to "More Details", programme_path(item) %>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
</div>
